# éƒ¨ç½²æŒ‡å—

æœ¬æŒ‡å—å°†å¸®åŠ©ä½ å°†ç­çº§ç½‘ç«™éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒã€‚

## ğŸ“‹ éƒ¨ç½²å‰å‡†å¤‡

### 1. ç¡®ä¿é¡¹ç›®å¯ä»¥æœ¬åœ°è¿è¡Œ

```bash
# æµ‹è¯•åç«¯
cd backend
npm install
npm run dev

# æµ‹è¯•å‰ç«¯
cd frontend
npm install
npm run dev
```

### 2. å‡†å¤‡è´¦å·

- **Vercel** - å‰ç«¯éƒ¨ç½²ï¼ˆå…è´¹ï¼‰
  - è®¿é—® https://vercel.com
  - ä½¿ç”¨ GitHub è´¦å·æ³¨å†Œ

- **Render** - åç«¯éƒ¨ç½²ï¼ˆå…è´¹ï¼‰
  - è®¿é—® https://render.com
  - ä½¿ç”¨ GitHub è´¦å·æ³¨å†Œ

- **GitHub** - ä»£ç æ‰˜ç®¡
  - ç¡®ä¿ä»£ç å·²æ¨é€åˆ° GitHub

## ğŸš€ éƒ¨ç½²æ­¥éª¤

### ç¬¬ä¸€æ­¥ï¼šéƒ¨ç½²åç«¯åˆ° Render

#### 1. åˆ›å»º Web Service

1. ç™»å½• Render
2. ç‚¹å‡» "New +" â†’ "Web Service"
3. è¿æ¥ä½ çš„ GitHub ä»“åº“
4. é€‰æ‹© `backend` ç›®å½•

#### 2. é…ç½®æœåŠ¡

**åŸºæœ¬è®¾ç½®ï¼š**
- Name: `class-website-backend`
- Region: `Singapore` (æˆ–æœ€è¿‘çš„åŒºåŸŸ)
- Branch: `main`
- Root Directory: `backend`
- Runtime: `Node`
- Build Command: `npm install && npx prisma generate && npx prisma migrate deploy`
- Start Command: `npm start`

**ç¯å¢ƒå˜é‡ï¼š**
```
NODE_ENV=production
PORT=3000
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
DATABASE_URL=<!-- file:./dev.db -->
```

#### 3. éƒ¨ç½²

- ç‚¹å‡» "Create Web Service"
- ç­‰å¾…éƒ¨ç½²å®Œæˆï¼ˆçº¦ 3-5 åˆ†é’Ÿï¼‰
- è®°å½•ä½ çš„åç«¯ URLï¼Œä¾‹å¦‚ï¼š`https://class-website-backend.onrender.com`

#### 4. åˆå§‹åŒ–æ•°æ®åº“

éƒ¨ç½²å®Œæˆåï¼Œåœ¨ Render æ§åˆ¶å°çš„ Shell ä¸­è¿è¡Œï¼š

```bash
npx prisma db seed
```

è¿™å°†åˆ›å»ºé»˜è®¤ç®¡ç†å‘˜è´¦å·ï¼ˆadmin/admin123ï¼‰ã€‚

---

### ç¬¬äºŒæ­¥ï¼šéƒ¨ç½²å‰ç«¯åˆ° Vercel

#### 1. é…ç½®ç¯å¢ƒå˜é‡

åœ¨ `frontend` ç›®å½•åˆ›å»º `.env.production` æ–‡ä»¶ï¼š

```env
VITE_API_URL=https://class-website-backend.onrender.com/api
```

#### 2. éƒ¨ç½²åˆ° Vercel

**æ–¹æ³•ä¸€ï¼šä½¿ç”¨ Vercel CLI**

```bash
cd frontend
npm install -g vercel
vercel login
vercel --prod
```

**æ–¹æ³•äºŒï¼šä½¿ç”¨ Vercel ç½‘ç«™**

1. ç™»å½• Vercel
2. ç‚¹å‡» "Add New..." â†’ "Project"
3. å¯¼å…¥ä½ çš„ GitHub ä»“åº“
4. é…ç½®é¡¹ç›®ï¼š
   - Framework Preset: `Vite`
   - Root Directory: `frontend`
   - Build Command: `npm run build`
   - Output Directory: `dist`
5. æ·»åŠ ç¯å¢ƒå˜é‡ï¼š
   - `VITE_API_URL`: `https://class-website-backend.onrender.com/api`
6. ç‚¹å‡» "Deploy"

#### 3. é…ç½®è‡ªå®šä¹‰åŸŸåï¼ˆå¯é€‰ï¼‰

1. åœ¨ Vercel é¡¹ç›®è®¾ç½®ä¸­
2. è¿›å…¥ "Domains"
3. æ·»åŠ ä½ çš„åŸŸå
4. æŒ‰ç…§æç¤ºé…ç½® DNS

---

### ç¬¬ä¸‰æ­¥ï¼šé…ç½® CORS

ç¡®ä¿åç«¯å…è®¸å‰ç«¯åŸŸåè®¿é—®ã€‚

ç¼–è¾‘ `backend/src/server.js`ï¼š

```javascript
app.use(cors({
  origin: [
    'http://localhost:5173',
    'http://localhost:5174',
    'https://your-vercel-domain.vercel.app', // æ›¿æ¢ä¸ºä½ çš„ Vercel åŸŸå
  ],
  credentials: true
}));
```

æäº¤æ›´æ”¹åï¼ŒRender ä¼šè‡ªåŠ¨é‡æ–°éƒ¨ç½²ã€‚

---

## ğŸ–¼ï¸ å›¾ç‰‡ç®¡ç†æ–¹æ¡ˆ

### æ–¹æ¡ˆä¸€ï¼šä½¿ç”¨å›¾åºŠæœåŠ¡ï¼ˆæ¨èï¼‰

**å…è´¹å›¾åºŠæ¨èï¼š**

1. **imgur** (https://imgur.com)
   - å…è´¹ã€ç¨³å®š
   - ä¸Šä¼ åè·å–ç›´é“¾

2. **sm.ms** (https://sm.ms)
   - å›½å†…è®¿é—®å¿«
   - æ”¯æŒ API

3. **Cloudinary** (https://cloudinary.com)
   - ä¸“ä¸šå›¾ç‰‡æœåŠ¡
   - å…è´¹é¢åº¦å……è¶³
   - è‡ªåŠ¨ä¼˜åŒ–å’ŒCDN

**ä½¿ç”¨æ–¹æ³•ï¼š**
1. æ³¨å†Œè´¦å·
2. ä¸Šä¼ å›¾ç‰‡
3. å¤åˆ¶å›¾ç‰‡URL
4. åœ¨ç®¡ç†åå°ç²˜è´´URL

### æ–¹æ¡ˆäºŒï¼šä½¿ç”¨ GitHub ä½œä¸ºå›¾åºŠ

1. åœ¨ä»“åº“åˆ›å»º `public/images` ç›®å½•
2. ä¸Šä¼ å›¾ç‰‡åˆ°è¯¥ç›®å½•
3. ä½¿ç”¨ç›¸å¯¹è·¯å¾„ï¼š`/images/photo.jpg`

### æ–¹æ¡ˆä¸‰ï¼šå®ç°æ–‡ä»¶ä¸Šä¼ ï¼ˆéœ€è¦å¼€å‘ï¼‰

å¦‚æœéœ€è¦ç›´æ¥ä¸Šä¼ æ–‡ä»¶åŠŸèƒ½ï¼Œéœ€è¦ï¼š
1. åç«¯æ·»åŠ  Multer ä¸­é—´ä»¶
2. é…ç½®æ–‡ä»¶å­˜å‚¨ï¼ˆæœ¬åœ°æˆ–äº‘å­˜å‚¨ï¼‰
3. å‰ç«¯æ·»åŠ ä¸Šä¼ ç»„ä»¶

---

## ğŸ”’ å®‰å…¨é…ç½®

### 1. ä¿®æ”¹é»˜è®¤å¯†ç 

éƒ¨ç½²åç«‹å³ç™»å½•ç®¡ç†åå°ï¼Œä¿®æ”¹é»˜è®¤ç®¡ç†å‘˜å¯†ç ã€‚

### 2. é…ç½®ç¯å¢ƒå˜é‡

ç¡®ä¿æ•æ„Ÿä¿¡æ¯ä½¿ç”¨ç¯å¢ƒå˜é‡ï¼š
- JWT_SECRET - ä½¿ç”¨å¼ºå¯†ç 
- DATABASE_URL - ç”Ÿäº§æ•°æ®åº“è¿æ¥

### 3. å¯ç”¨ HTTPS

Vercel å’Œ Render é»˜è®¤æä¾› HTTPSï¼Œç¡®ä¿ä½¿ç”¨ https:// è®¿é—®ã€‚

---

## ğŸ“Š ç›‘æ§å’Œç»´æŠ¤

### Render ç›‘æ§

- æŸ¥çœ‹æ—¥å¿—ï¼šRender Dashboard â†’ Logs
- æŸ¥çœ‹æŒ‡æ ‡ï¼šCPUã€å†…å­˜ä½¿ç”¨æƒ…å†µ
- è®¾ç½®å‘Šè­¦ï¼šé‚®ä»¶é€šçŸ¥

### Vercel ç›‘æ§

- æŸ¥çœ‹éƒ¨ç½²å†å²
- æŸ¥çœ‹è®¿é—®åˆ†æ
- æŸ¥çœ‹é”™è¯¯æ—¥å¿—

### æ•°æ®åº“å¤‡ä»½

**æ‰‹åŠ¨å¤‡ä»½ï¼š**
```bash
# åœ¨ Render Shell ä¸­
cp dev.db dev.db.backup
```

**è‡ªåŠ¨å¤‡ä»½ï¼ˆæ¨èï¼‰ï¼š**
ä½¿ç”¨ GitHub Actions å®šæœŸå¤‡ä»½æ•°æ®åº“ã€‚

---

## ğŸ› å¸¸è§é—®é¢˜

### 1. åç«¯éƒ¨ç½²å¤±è´¥

**é—®é¢˜ï¼š** Prisma è¿ç§»å¤±è´¥
**è§£å†³ï¼š** ç¡®ä¿ Build Command åŒ…å« `npx prisma migrate deploy`

### 2. å‰ç«¯æ— æ³•è¿æ¥åç«¯

**é—®é¢˜ï¼š** CORS é”™è¯¯
**è§£å†³ï¼š** æ£€æŸ¥åç«¯ CORS é…ç½®ï¼Œç¡®ä¿åŒ…å«å‰ç«¯åŸŸå

### 3. å›¾ç‰‡æ— æ³•æ˜¾ç¤º

**é—®é¢˜ï¼š** å›¾ç‰‡ URL æ— æ•ˆ
**è§£å†³ï¼š** ä½¿ç”¨å›¾åºŠæœåŠ¡ï¼Œç¡®ä¿ URL å¯å…¬å¼€è®¿é—®

### 4. Render æœåŠ¡ä¼‘çœ 

**é—®é¢˜ï¼š** å…è´¹ç‰ˆ 15 åˆ†é’Ÿæ— è®¿é—®ä¼šä¼‘çœ 
**è§£å†³ï¼š** 
- ä½¿ç”¨ UptimeRobot å®šæœŸ ping
- æˆ–å‡çº§åˆ°ä»˜è´¹ç‰ˆ

---

## ğŸ’° æˆæœ¬ä¼°ç®—

### å…è´¹æ–¹æ¡ˆï¼ˆæ¨èï¼‰

- **Vercel**: å…è´¹
- **Render**: å…è´¹ï¼ˆæœ‰ä¼‘çœ é™åˆ¶ï¼‰
- **å›¾åºŠ**: å…è´¹ï¼ˆæœ‰æµé‡é™åˆ¶ï¼‰
- **æ€»æˆæœ¬**: Â¥0/æœˆ

### ä»˜è´¹æ–¹æ¡ˆï¼ˆå¯é€‰ï¼‰

- **Vercel Pro**: $20/æœˆ
- **Render Starter**: $7/æœˆ
- **Cloudinary**: $0-89/æœˆ
- **æ€»æˆæœ¬**: $7-116/æœˆ

---

## ğŸ“ éƒ¨ç½²æ£€æŸ¥æ¸…å•

- [ ] åç«¯æˆåŠŸéƒ¨ç½²åˆ° Render
- [ ] æ•°æ®åº“è¿ç§»å®Œæˆ
- [ ] ç§å­æ•°æ®å·²å¯¼å…¥
- [ ] å‰ç«¯æˆåŠŸéƒ¨ç½²åˆ° Vercel
- [ ] ç¯å¢ƒå˜é‡é…ç½®æ­£ç¡®
- [ ] CORS é…ç½®æ­£ç¡®
- [ ] å¯ä»¥è®¿é—®å‰ç«¯ç½‘ç«™
- [ ] å¯ä»¥ç™»å½•ç®¡ç†åå°
- [ ] æ‰€æœ‰åŠŸèƒ½æ­£å¸¸å·¥ä½œ
- [ ] ä¿®æ”¹äº†é»˜è®¤å¯†ç 
- [ ] é…ç½®äº†å›¾åºŠæœåŠ¡
- [ ] è®¾ç½®äº†ç›‘æ§å‘Šè­¦

---

## ğŸ‰ éƒ¨ç½²å®Œæˆ

æ­å–œï¼ä½ çš„ç­çº§ç½‘ç«™å·²ç»æˆåŠŸéƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒã€‚

**è®¿é—®åœ°å€ï¼š**
- å‰ç«¯ï¼šhttps://your-domain.vercel.app
- åç«¯ï¼šhttps://your-backend.onrender.com
- ç®¡ç†åå°ï¼šhttps://your-domain.vercel.app/admin/login

**é»˜è®¤è´¦å·ï¼š**
- ç”¨æˆ·åï¼šadmin
- å¯†ç ï¼šadmin123ï¼ˆè¯·ç«‹å³ä¿®æ”¹ï¼‰

---

## ğŸ“ è·å–å¸®åŠ©

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æŸ¥çœ‹ï¼š
- [Vercel æ–‡æ¡£](https://vercel.com/docs)
- [Render æ–‡æ¡£](https://render.com/docs)
- [Prisma æ–‡æ¡£](https://www.prisma.io/docs)

---

**æœ€åæ›´æ–°ï¼š2025-11-13**
